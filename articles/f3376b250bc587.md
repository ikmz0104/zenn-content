---
title: "【PlantUML】シーケンス図 作りました"
emoji: "👌"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: [メモ]
published: false
---

# 前置き
Excel とか Google Slide で処理フロー図作ってる皆さん！！

処理フロー図の整備性は良いですか？

例えば、「ユーザが EC サイトにアクセスして服を購入する」

という処理フロー図を書くとこうなります。

![](/images/sequence1.png)

しかし、「購入履歴に移動してから再購入する」

という処理を付け加えようとするとこうなってしまいます。

![](/images/sequence2.png)

そして、この後こんなことを配慮しながら手直しします。

- 矢印の向き・太さ・色
- ボタンの大きさ・色
- 文字の色・大きさ・配置

![](/images/sequence3.png)

これ、めちゃくちゃ怠い作業ですし

もっと規模が大きくなるとだんだん人間を辞めたくなってきます。

なので、品質保証および正常な精神状態の維持を考慮すると

PlantUMLを使ってシーケンス図を作る方がベターです。

# 環境構築
Windows 11
https://zenn.dev/mizuneko4345/scraps/41c8ce3d03e2f1

# 遊ぶ

前置きはさておき、勝手に状況設定して触って遊ぼう

## 状況設定

ユーザが EC サイトにアクセスして服を買い購入通知が来る

## 書き方
参考程度に～

:::details よく使う書き方
```
## コードの開始と終了の合図
@startuml
処理
@enduml

## 人間やデータベースは定義できる
actor: ユーザＡ
database: テーブルＡ

## リクエスト・レスポンス
ユーザA -> 画面A : リクエスト内容  //ユーザAが画面Aにリクエスト内容に応じた処理を行う
API --> ユーザA : レスポンス内容  //APIからユーザAにレスポンス内容に応じた処理が投げられる

## フローの開始・終了点の可視化
activate
desactivate

## 特定フローへのグリッド＆コメント
par
! ここに処理を書く、ここの処理がグリッドされる !
note right : コメント
end
```
:::

## コード
:::details シーケンス図
```
```
:::

# おまけ
こんなこともできます(._.)
## 配色

下記ソースでフロー図全体の配色の設定が可能です。

```

```



### 参考記事
https://plantuml.com/ja/color
https://qiita.com/yhornisse/items/a1f85c876e1cadaaf348
## 画像出力

下記手順で作成したシーケンス図を指定した拡張子で出力できます。

1. VSCodeで`Ctrl ＋ Shift + P`
2. Export Current Diagram
3. 拡張子を選択して出力

# 感想

AWS のフロー図を書く際は drawio を使うことで UI が映えますが、 

シーケンス図を作る際は PlantUML の方が見栄えも整備性も良いです。

ちなみに前職では鬼のように毎日 Excel をいじってました。

黒歴史ですね。

最後までお読みいただきありがとうございました。
